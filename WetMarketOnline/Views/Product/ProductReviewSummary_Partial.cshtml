@model Dictionary<int, int>

@{
    decimal rating = (ViewData["ProductRating"] == null) ? 0 : decimal.Parse(ViewData["ProductRating"].ToString());
    int reviewCount = (ViewData["ReviewCount"] == null) ? 0 : int.Parse(ViewData["ReviewCount"].ToString());
    int total = (reviewCount == 0) ? 1 : reviewCount;
}

<div class="container">
    <div class="row">
        @*<div class="col-xs-12 col-md-6">*@
        <div class="well well-sm">
            <div class="row">
                <div class="col-xs-12 col-md-6 text-center">
                    <h1 class="rating-num">
                        @decimal.Round(rating, 2)
                    </h1>
                    <div class="rating align-content-around">

                        @{
                            decimal starsLeft = (5 - rating);
                            for (int k = 0; k < (int)starsLeft; k++)
                            {
                                <span class="bi bi-star"></span>
                            }

                            if (decimal.Round(rating, 0, MidpointRounding.AwayFromZero) == (int)(rating + 1))
                            {
                                <span class="bi bi-star-half"></span>
                            }
                            else if (!rating.ToString().Contains(".00"))
                            {
                                <span class="bi bi-star"></span>
                            }

                            for (int i = 0; i < (int)rating; i++)
                            {
                                <span class="bi bi-star-fill"></span>
                            }
                        }
                        @*<span class="bi bi-star-fill"></span>
                            <span class="bi bi-star-fill"></span>
                            <span class="bi bi-star-fill"></span>
                            <span class="bi bi-star-fill"></span>
                            <span class="bi bi-star"></span>*@
                    </div>
                    <div class="mt-3">
                        <span class="bi bi-person-fill me-2"></span>@reviewCount reviews
                    </div>
                </div>
                <div class="col-xs-12 col-md-6">
                    <div class="row rating-desc">
                        <div class="col-xs-3 col-md-3 text-right">
                            <span class="bi bi-star-fill me-2"></span>5
                        </div>
                        <div class="col-xs-8 col-md-9 mt-1">
                            <div class="progress">
                                <div class="progress-bar progress-bar-striped bg-success" role="progressbar" aria-valuenow="20"
                                     aria-valuemin="0" aria-valuemax="100" style="width: @decimal.Multiply(decimal.Divide(Model[5], total), 100)%">
                                    <span class="sr-only">@Model[5]</span>
                                </div>
                            </div>
                        </div>
                        <!-- end 5 -->
                        <div class="col-xs-3 col-md-3 text-right">
                            <span class="bi bi-star-fill me-2"></span>4
                        </div>
                        <div class="col-xs-8 col-md-9 mt-1">
                            <div class="progress">
                                <div class="progress-bar bg-success" role="progressbar" aria-valuenow="20"
                                     aria-valuemin="0" aria-valuemax="100" style="width: @decimal.Multiply(decimal.Divide(Model[4], total), 100)%">
                                    <span class="sr-only">@Model[4]</span>
                                </div>
                            </div>
                        </div>
                        <!-- end 4 -->
                        <div class="col-xs-3 col-md-3 text-right">
                            <span class="bi bi-star-fill me-2"></span>3
                        </div>
                        <div class="col-xs-8 col-md-9 mt-1">
                            <div class="progress">
                                <div class="progress-bar bg-info" role="progressbar" aria-valuenow="20"
                                     aria-valuemin="0" aria-valuemax="100" style="width: @decimal.Multiply(decimal.Divide(Model[3], total), 100)%">
                                    <span class="sr-only">@Model[3]</span>
                                </div>
                            </div>
                        </div>
                        <!-- end 3 -->
                        <div class="col-xs-3 col-md-3 text-right">
                            <span class="bi bi-star-fill me-2"></span>2
                        </div>
                        <div class="col-xs-8 col-md-9 mt-1">
                            <div class="progress">
                                <div class="progress-bar bg-warning" role="progressbar" aria-valuenow="20"
                                     aria-valuemin="0" aria-valuemax="100" style="width: @decimal.Multiply(decimal.Divide(Model[2], total), 100)%">
                                    <span class="sr-only">@Model[2]</span>
                                </div>
                            </div>
                        </div>
                        <!-- end 2 -->
                        <div class="col-xs-3 col-md-3 text-right">
                            <span class="bi bi-star-fill me-2"></span>1
                        </div>
                        <div class="col-xs-8 col-md-9 mt-1">
                            <div class="progress">
                                <div class="progress-bar bg-danger" role="progressbar" aria-valuenow="80"
                                     aria-valuemin="0" aria-valuemax="100" style="width: @decimal.Multiply(decimal.Divide(Model[1], total), 100)%">
                                    <span class="sr-only">@Model[1]</span>
                                </div>
                            </div>
                        </div>
                        <!-- end 1 -->
                    </div>
                    <!-- end row -->
                </div>
            </div>
        </div>
        @*</div>*@
    </div>
</div>